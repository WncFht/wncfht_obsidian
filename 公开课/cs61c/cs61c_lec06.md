`lec06.pdf` 文件是关于 RISC-V 汇编语言和指令集架构的入门课程，以下是该课程的详细内容：

### 0.1 汇编语言简介

- 汇编语言是一种低级编程语言，它与特定的硬件架构紧密相关。
- 汇编语言程序需要通过汇编器转换成机器语言程序，以便 CPU 执行。

### 0.2 高级语言与汇编语言

- 高级语言（如 C、Java）编写的程序需要编译器转换成汇编语言，再由汇编器转换成机器语言。
- 汇编语言与硬件架构（如 RISC-V）直接相关，提供了对硬件的直接控制。

### 0.3 抽象的概念

- 抽象是计算机科学中的一个基本概念，允许我们在不同的层次上理解和实现程序。
- 例如，从高级语言到汇编语言再到机器语言，每个层次都是对下一层的抽象。

### 0.4 RISC-V 架构

- RISC-V 是一种开源、无许可费用的指令集架构（ISA）。
- 它支持 32 位、64 位和 128 位变体。
- RISC-V 旨在支持开放的研究和教学，由加州大学伯克利分校在 2010 年发起。

### 0.5 为什么选择 RISC-V

- RISC-V 简单易学，适合作为学习其他汇编语言的基础。
- 学习 RISC-V 可以帮助理解其他 CPU 架构和汇编语言。

### 0.6 寄存器

- 寄存器是 CPU 内部的小型存储单元，用于存储指令执行过程中的临时数据。
- RISC-V 有 32 个寄存器（x0 到 x31），每个寄存器都是 32 位宽。
- 寄存器的访问速度比内存快得多，因为它们位于 CPU 内部。\
- ![QQ_1723426099514](https://cdn.jsdelivr.net/gh/WncFht/picture/202408121034393.png)

### 0.7 寄存器的使用

- 寄存器用于存储指令执行所需的数据，如变量和中间结果。
- 与高级语言中的变量不同，寄存器没有类型，可以存储任何类型的数据。
- x0 寄存器是一个特殊的寄存器，它总是包含值 0。

### 0.8 寄存器与内存的速度比较

- 寄存器比内存快约 50-500 倍，因为它们的物理位置和大小。
- 内存虽然容量大，但访问速度慢于寄存器。

### 0.9 汇编语言中的注释

- 注释对于理解汇编代码至关重要，尤其是在复杂的操作中。

### 0.10 汇编指令示例

- 介绍了如何使用汇编指令执行基本的算术操作，如加法和减法。
- ![QQ_1723426283414](https://cdn.jsdelivr.net/gh/WncFht/picture/202408121035095.png)
- ![QQ_1723426340853](https://cdn.jsdelivr.net/gh/WncFht/picture/202408121035747.png)

### 0.11 立即数（Immediates）

- 立即数用于在汇编指令中提供数值常量。
- RISC-V 中的立即数操作限制在 12 位，并且会进行符号扩展到 32 位。
- ![QQ_1723426500087](https://cdn.jsdelivr.net/gh/WncFht/picture/202408121035339.png) extension 保证值不变
- add is for registers
- addi is for immediates

### 0.12 内存

- 内存是 CPU 外部的存储设备，容量大但速度慢。
- 内存用于存储程序和数据，但访问速度比寄存器慢。

### 0.13 内存地址

- 介绍了如何通过地址访问内存中的数据。
- 解释了字节、字和位的地址计算。
- goldilocks principle

### 0.14 访问数组

- 介绍了如何在汇编语言中访问数组元素，包括指针算术。

### 0.15 从内存加载数据

- 介绍了如何使用 `lw`（加载字 load word）指令将数据从内存加载到寄存器。
- ![QQ_1723426699085](https://cdn.jsdelivr.net/gh/WncFht/picture/202408121036840.png)
- 类似的，x15相当于段地址，12(3 * sizeof(int))相当于偏移地址

### 0.16 存储数据到内存

- 介绍了如何使用 `sw`（存储字）指令将数据从寄存器存储到内存。
- ![QQ_1723426837256](https://cdn.jsdelivr.net/gh/WncFht/picture/202408121036531.png)

### 0.17 加载和存储字节

- 介绍了如何使用 `lb`（加载字节）和 `sb`（存储字节）指令在字节级别上进行数据传输。
- ![QQ_1723427018422](https://cdn.jsdelivr.net/gh/WncFht/picture/202408121036611.png)

### 0.18 符号扩展

- 解释了在加载数据时如何进行符号扩展，以及它与存储操作的区别。
- ![QQ_1723427040762](https://cdn.jsdelivr.net/gh/WncFht/picture/202408121036356.png)
- ![QQ_1723427114723](https://cdn.jsdelivr.net/gh/WncFht/picture/202408121036532.png)

### 0.19 逻辑指令

- 介绍了 RISC-V 中的逻辑指令，包括位与（AND）、位或（OR）、位异或（XOR）、逻辑左移（SLL）等。
- ![QQ_1723427524964 1](https://cdn.jsdelivr.net/gh/WncFht/picture/202408121037165.png)

### 0.20 移位操作

- 介绍了如何使用移位指令执行算术和逻辑移位。
- ![QQ_1723427570635](https://cdn.jsdelivr.net/gh/WncFht/picture/202408121037980.png)
- ![QQ_1723427744742](https://cdn.jsdelivr.net/gh/WncFht/picture/202408121037378.png)就是先把所有运算算好，放到基础地址里，这样偏移地址就不会包含register了

### 0.21 决策制定指令

- 介绍了如何使用分支指令在 RISC-V 中实现条件判断，例如 `beq`（如果相等则跳转）和 `bne`（如果不相等则跳转）。
- ![QQ_1723427912021](https://cdn.jsdelivr.net/gh/WncFht/picture/202408121037396.png)
- ![QQ_1723427974368](https://cdn.jsdelivr.net/gh/WncFht/picture/202408121037723.png)
- ![QQ_1723427987352](https://cdn.jsdelivr.net/gh/WncFht/picture/202408121037899.png)
- ![QQ_1723427999572](https://cdn.jsdelivr.net/gh/WncFht/picture/202408121037677.png)
- ![QQ_1723428086546](https://cdn.jsdelivr.net/gh/WncFht/picture/202408121037266.png)

### 0.22 标签和跳转

- 标签用于标记代码中的位置，分支和跳转指令可以使用标签来实现非顺序执行。

### 0.23 循环示例

- 展示了如何在汇编语言中实现循环，使用 `for` 循环的例子进行了说明。
- ![QQ_1723428144501](https://cdn.jsdelivr.net/gh/WncFht/picture/202408121037669.png)

### 0.24 更多指令

- 提供了 RISC-V 参考卡片的链接，供进一步学习和参考。

这份讲义为学生提供了 RISC-V 汇编语言编程的基础知识，涵盖了从基本的算术操作到更复杂的内存访问和控制流指令。通过这些知识，学生能够理解并开始编写简单的汇编程序。

---
