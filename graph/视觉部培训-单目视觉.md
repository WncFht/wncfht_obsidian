单应性变换（Homography Transform），也称为透视变换，是计算机视觉中一个重要的概念，用于描述在不同视角之间图像的投影关系。它是一种用于二维平面之间的坐标变换的几何变换，能够将一个平面上的点映射到另一个平面上的点。

### 基本概念

在二维空间中，单应性变换可以通过一个3x3的矩阵来表示。如果有两个平面π1和π2，以及一个投影点P，那么单应性变换H可以将π1平面上的点X映射到π2平面上的点x'，变换关系可以表示为：

$$
X' = H \cdot X 
$$

其中， $X = [x, y, 1]^T$ 是齐次坐标下的点， $X' = [x', y', 1]^T$ 是变换后的点。

### 特性

1. **线性变换**：单应性变换是线性的，这意味着多个变换可以合并为一个单一的变换。
2. **透视不变性**：在透视投影下，点之间的相对位置和角度保持不变。
3. **点对点的映射**：单应性变换可以将一个平面上的点映射到另一个平面上的点，即使它们在三维空间中是透视投影的关系。

### 应用

1. **图像配准**：将多张图片中的相同场景对齐，以便于分析或合并。
2. **全景图像拼接**：将多个图像拼接成一个宽视角的全景图。
3. **三维重建**：从多个视角的二维图像中重建三维场景。
4. **目标跟踪**：在视频序列中跟踪移动的目标。
5. **增强现实**：将虚拟图像与现实世界融合。

### 计算方法

单应性矩阵可以通过对应点集计算得到。给定两组对应点（至少需要4对点），可以使用如下方法之一计算单应性矩阵：

1. **直接线性变换（DLT）**：通过构建线性方程组并使用最小二乘法求解。
2. **RANSAC**：一种迭代方法，用于处理有噪声的数据或异常值。
3. **直接方法**：利用对应点之间的关系直接计算单应性矩阵。

在OpenCV中，可以使用 `findHomography` 函数来计算单应性矩阵。

### 示例

假设我们有一组对应点，我们可以使用OpenCV计算单应性矩阵：

```c++
std::vector<Point2f> srcPoints; // 源图像中的点
std::vector<Point2f> dstPoints; // 目标图像中的点

// 假设已经填充了srcPoints和dstPoints

Mat H = findHomography(srcPoints, dstPoints);
```

`H` 就是单应性矩阵，可以用来对图像进行透视变换。

单应性变换是一个强大的工具，可以帮助我们理解和处理图像中的透视失真。

TODO
